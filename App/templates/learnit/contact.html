{% extends 'learnit/base.html' %}
{% load static %}

{% block content %}
        
    <!--================Home Banner Area =================-->
    <section class="banner_area">
        <div class="banner_inner d-flex align-items-center">
            <div class="overlay bg-parallax" data-stellar-ratio="0.9" data-stellar-vertical-offset="0" data-background=""></div>
            <div class="container">
                <div class="banner_content text-center">
                    <h2>Contact Us</h2>
                    <div class="page_link">
                        <a href="{% url 'home' %}">Home</a>
						<a href="{% url 'contact' %}">Contact</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--================End Home Banner Area =================-->
        
    <!--================Contact Area =================-->

    <section class="contact_area p_120">
        <div class="container">
            <div class="row">
                <div class="col-lg-10">
                    
                    {% if status == 1 %}
                    <div align="center">
                        <h2 style="color: green">We already have your feedback</h2><br/>
                    </div>
                    {% endif %}

                    <form class="row contact_form" action="{% url 'contact' %}" method="post" id="contactForm">
                        {% csrf_token %}
                        <div class="col-md-6">
                            <div class="form-group">
                                <input type="text" oninput="validate_input_name()" class="form-control" id="name" name="name" placeholder="Enter your name" required>
                                <p id="error_name" style="color: red"></p>
                            </div>
                            <div class="form-group">
                                <input type="email" oninput="validate_input_email()" class="form-control" id="email" name="email" placeholder="Enter email address" required>
                                <p id="error_email" style="color: red"></p>
                            </div>
                            <div class="form-group">
                                <input type="text" oninput="validate_input_subject()" class="form-control" id="subject" name="subject" placeholder="Enter Subject" required>
                                <p id="error_subject" style="color: red"></p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <p id="error_message" style="color: red"></p>
                                <textarea class="form-control" oninput="validate_input_message()" name="message" id="message" rows="1" placeholder="Enter Message" required></textarea>
                            </div>
                        </div>
                        <div class="col-md-12 text-right">
                            <button type="submit" value="submit" id="s_data" class="btn submit_btn">Send Message</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <!--================Contact Area =================-->

    <script type="text/JavaScript">
	    function validate_input_name()
	    {
	        let name = $('#name').val();
			if(name.length <= 2)
			{
			    document.getElementById("error_name").innerHTML = "Minimum 3 letters";
				$('#s_data').attr("disabled", true);
			}
			else
			{
				$('#s_data').attr("disabled", false);
				document.getElementById("error_name").innerHTML = "";
			}
	    }
	    function validate_input_email()
	    {
	        let name = $('#email').val();
			if(ValidateEmail(name))
			{
			    $('#s_data').attr("disabled", false);
				document.getElementById("error_email").innerHTML = "";
			}
			else
			{
			    document.getElementById("error_email").innerHTML = "Email is not valid";
				$('#s_data').attr("disabled", true);
			}
	    }
	    function validate_input_subject()
	    {
	        let name = $('#subject').val();
			if(name.length <= 4)
			{
			    document.getElementById("error_subject").innerHTML = "Minimum 5 letters";
				$('#s_data').attr("disabled", true);
			}
			else
			{
				$('#s_data').attr("disabled", false);
				document.getElementById("error_subject").innerHTML = "";
			}
	    }
	    function validate_input_message()
	    {
	        let name = $('#message').val();
			if(name.length <= 9)
			{
			    document.getElementById("error_message").innerHTML = "Minimum 10 letters";
				$('#s_data').attr("disabled", true);
			}
			else
			{
				$('#s_data').attr("disabled", false);
				document.getElementById("error_message").innerHTML = "";
			}
	    }
	    function ValidateEmail(mail)
        {
         if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(mail))
          {
            return (true);
          }
          else
          {
            return (false);
          }
        }
    </script>

{% endblock %}